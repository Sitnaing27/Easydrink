<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Easy Drink Order</title>
<style>
body {
  font-family: Arial, sans-serif;
  margin: 0;
  background: #f4f4f9;
}
#welcome {
  height: 100vh;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  background: #2c3e50;
  color: white;
  text-align: center;
}
#welcome button {
  padding: 14px 30px;
  font-size: 18px;
  background: #e74c3c;
  color: white;
  border: none;
  border-radius: 6px;
  cursor: pointer;
}
#menu {
  display: none;
  padding: 20px;
}
.category {
  margin-bottom: 30px;
}
.category h2 {
  color: #2c3e50;
  border-bottom: 2px solid #ddd;
  padding-bottom: 5px;
}
.item {
  background: white;
  padding: 12px;
  margin: 10px 0;
  border-radius: 6px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  cursor: pointer;
}
.item:hover {
  background: #eef3ff;
}
.price {
  color: #27ae60;
  font-weight: bold;
}
.note {
  font-size: 12px;
  color: #777;
  margin-top: 20px;
}
</style>
</head>
<body>

<div id="welcome">
  <h1>Welcome</h1>
  <p>Tap start to order drinks</p>
  <button onclick="startOrder()">Start Order</button>
</div>

<div id="menu"></div>

<script>
const MESSENGER_USERNAME = "alexander.sn.988";

function startOrder() {
  document.getElementById("welcome").style.display = "none";
  document.getElementById("menu").style.display = "block";

  fetch("drinks.json")
    .then(res => res.json())
    .then(data => renderMenu(data))
    .catch(() => {
      document.getElementById("menu").innerHTML =
        "<p>Failed to load menu.</p>";
    });
}

function renderMenu(data) {
  const menu = document.getElementById("menu");

  for (const category in data) {
    const section = document.createElement("div");
    section.className = "category";
    section.innerHTML = `<h2>${category}</h2>`;

    data[category].forEach(drink => {
      const item = document.createElement("div");
      item.className = "item";
      item.innerHTML = `
        <span>${drink.name}</span>
        <span class="price">${drink.price} MMK</span>
      `;
      item.onclick = () => orderToMessenger(drink.name, drink.price);
      section.appendChild(item);
    });

    menu.appendChild(section);
  }

  const note = document.createElement("div");
  note.className = "note";
  note.innerText =
    "Note: Selecting a drink will open Messenger with a ready message. Tap Send to confirm your order.";
  menu.appendChild(note);
}

function orderToMessenger(drinkName, price) {
  const message = `မင်္ဂလာပါ၊ ${drinkName} (${price} MMK) ကို မှာချင်ပါတယ်။`;
  const url =
    "https://m.me/" +
    MESSENGER_USERNAME +
    "?text=" +
    encodeURIComponent(message);

  window.open(url, "_blank");
}
</script>

</body>
</html>
